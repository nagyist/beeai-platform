{{-  if and .Values.auth.enabled .Values.auth.oidc.enabled -}}
kind: Secret
apiVersion: v1
metadata:
  name: beeai-next-auth
data:
  {{- if empty .Values.auth.oidc.nextauth_secret }}
  {{fail ".Values.auth.oidc.nextauth_secret is missing, please add nextauth_secret"}}
  {{- else }}
  authSecret: {{ .Values.auth.oidc.nextauth_secret | b64enc | quote }}
  {{ end }}
type: Opaque
{{- end}}